<div class="flex flex-wrap gap-2 justify-end collection-actions"
     :class="compact ? 'text-[11px]' : 'text-xs'">
    <button @click="togglePurchase(track)"
            class="font-bold uppercase tracking-wide rounded-lg border transition-colors"
            :class="[
                compact ? 'px-2.5 py-1' : 'px-3 py-1.5',
                track.purchased ? 'bg-emerald-50 text-emerald-700 border-emerald-200' : 'bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700'
            ]">
        <span x-text="context === 'purchased' ? 'Entfernen' : (track.purchased ? 'Gekauft' : 'Als gekauft markieren')"></span>
    </button>

    <button x-show="track.producer_id"
            @click="toggleProducerFavorite(track)"
            class="font-bold uppercase tracking-wide rounded-lg border transition-colors flex items-center gap-1"
            :class="[
                compact ? 'px-2.5 py-1' : 'px-3 py-1.5',
                isProducerFavorite(track.producer_id) ? 'bg-blue-50 text-blue-700 border-blue-200' : 'bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700'
            ]">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a5 5 0 015 5v1a5 5 0 11-10 0V7a5 5 0 015-5zm-6 18a6 6 0 0112 0v1H6v-1z"/></svg>
        <span x-text="isProducerFavorite(track.producer_id) ? 'Producer gespeichert' : 'Producer merken'"></span>
    </button>

    <div class="flex items-center gap-2"
         :class="compact ? 'w-full justify-end' : ''">
        <a :href="track.beatport_url || getSearchLink(track, 'beatport')"
           target="_blank"
           aria-label="Search Beatport"
           class="font-bold uppercase tracking-wide rounded-lg border transition-colors flex items-center justify-center"
           :class="compact ? 'p-2 text-[10px] bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700' : 'p-2.5 text-xs bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700'">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M5 4h14a1 1 0 011 1v14a1 1 0 01-1 1H5a1 1 0 01-1-1V5a1 1 0 011-1zm3.75 6.25a2.75 2.75 0 105.5 0 2.75 2.75 0 00-5.5 0zm2.75-4.25a5.25 5.25 0 100 10.5 5.25 5.25 0 000-10.5zm6.5 10.5l2-2-1.06-1.06-2 2 1.06 1.06z"/></svg>
        </a>
        <a :href="getSearchLink(track, 'bandcamp')"
           target="_blank"
           aria-label="Search Bandcamp"
           class="font-bold uppercase tracking-wide rounded-lg border transition-colors flex items-center justify-center"
           :class="compact ? 'p-2 text-[10px] bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700' : 'p-2.5 text-xs bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200 hover:text-orange-700'">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M3 18L9 6h12l-6 12H3zm3.2-2h7.1l4-8H10.2l-4 8z"/></svg>
        </a>
    </div>
</div>
